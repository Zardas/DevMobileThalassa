<!--
  Generated template for the AccueilComptagePage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<script src="../../assets/sql.js"></script>
<ion-header>

  <ion-navbar color="XLblue">


  	<!-- Bouton logo (retourne au menu) -->
    <img src="assets/imgs/logoXLSoft.png" *ngIf="!isSearchbarOpened" (click)="goTo('HomePage')" id="img_title_left" />


    <ion-title id="title" icon-right *ngIf="!isSearchbarOpened">XLComptage</ion-title>
    
    <ion-searchbar *ngIf="isSearchbarOpened" showCancelButton="true" (search)="getComptageCorrespondant($event)" (ionCancel)="isSearchbarOpened=false" (ionClear)="getComptageCorrespondant('')"></ion-searchbar>
    
    <ion-buttons end>
      <button ion-button id="search" (click)="isSearchbarOpened=!isSearchbarOpened"><ion-icon [name]="getNameIcon()"></ion-icon></button>
      <button ion-button id="more"><ion-icon name="more"></ion-icon></button>
    </ion-buttons>


  </ion-navbar>

</ion-header>

<ion-content padding>

  <h2 [innerHTML]="aucuneComptage()"></h2>

  <ion-item *ngFor="let comptage of comptage_searched">
    <ion-badge item-begin id="badge" [style.background-color]="setColorBadge(comptage)">
      {{findNBArticles(comptage)}}
      <!--<button ion-button (click)="ajouteScanExemple(comptage)" small><ion-icon name="add"></ion-icon></button>-->
    </ion-badge>
    <div id="item_comptage_sans_badge" (click)="goToComptage(comptage)">
      <h1>{{comptage.nom}}</h1>
      <!--<p>{{findNomTypeComptage(comptage.nomTypeComptage)}}</p>-->
      <p>{{comptage.nomTypeComptage}}</p>
      <p id="dateComptage">{{comptage.dateDebut}}</p>
    </div>
  </ion-item>

  <ion-fab bottom center>
    <button ion-fab color="primary" (click)="goTo('NouveauComptagePage')">
      <ion-icon name="add"></ion-icon>
    </button>
  </ion-fab>
</ion-content>
